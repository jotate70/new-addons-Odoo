<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="product_inherit" inherit_id="website_sale.product">
        <xpath expr="//section[@id='product_detail']/div[hasclass('row')]" position="replace">
            <div class="row">
                <div class="col-md-4" >
                    <t t-set="selected_category" t-value="category" />
                    <t t-foreach="product.public_categ_ids" t-as="category">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a t-att-href="keep(category=0)">Product</a>
                            </li>
                            <li t-if="category" class="breadcrumb-item">
                                <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name" />
                            </li>
                            <li class="breadcrumb-item active">
                                <span t-field="product.name" />
                            </li>
                        </ol>
                    </t>
                </div>
                <div class="col-md-8">
                    <div class="form-inline justify-content-end">
                        <t t-call="website_sale.search">
                            <t t-set="search" t-value="False"/>
                        </t>
                        <t t-call="website_sale.pricelist_list">
                            <t t-set="_classes">ml-2</t>
                        </t>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

    <template id="breadcrumb" inherit_id="website_sale.product">
        <xpath expr="//ol[hasclass('breadcrumb')]/li[@t-if='category']" position="replace">
            <t t-if="category" t-call="website_sale_category_custom.breadcrumb_recursive"/>
        </xpath>
    </template>

    <template id="breadcrumb_recursive">
        <t t-if="category.parent_id">
            <t t-call="website_sale_category_custom.breadcrumb_recursive">
                <t t-set="category" t-value="category.parent_id"/>
            </t>
        </t>
        <li class="breadcrumb-item">
            <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name"/>
        </li>
    </template>

</odoo>
