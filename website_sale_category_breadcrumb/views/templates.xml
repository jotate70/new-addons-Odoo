<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="product_inherit" inherit_id="website_sale.product">
        <xpath expr="//ol[@class='breadcrumb']" position="replace">
            <ol class="breadcrumb" style="visibility: hidden">
                <li class="breadcrumb-item">
                    <a t-att-href="keep(category=0)">Products</a>
                </li>
                <li t-if="category" class="breadcrumb-item">
                    <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name" />
                </li>
                <!--<li t-if="not category" class="breadcrumb-item active">
                    <span t-field="product.name" />
                </li>-->
            </ol>
        </xpath>
    </template>

    <template id="breadcrumb" inherit_id="website_sale.product">
        <xpath expr="//ol[hasclass('breadcrumb')]/li[@t-if='category']" position="replace">
            <t t-call="website_sale_category_breadcrumb.breadcrumb_recursive"/>
        </xpath>
    </template>

    <template id="breadcrumb_recursive">
        <t t-if="category.parent_id">
            <t t-call="website_sale_category_breadcrumb.breadcrumb_recursive">
                <t t-set="category" t-value="category.parent_id" />
            </t>
        </t>
        <li class="breadcrumb-item">
            <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name"/>
        </li>
            <!--<li t-if="category.parent_id" class="breadcrumb-item active">
                <span t-field="product.name" />
            </li>-->
    </template>

    <template id="additional_breadcrumbs" inherit_id="website_sale.product" name="Show breadcrumbs for additional categories" customize_show="True" active="True">
        <xpath expr="//section[@id='product_detail']/div[hasclass('row')]" position="inside">
            <div class="col-md-6">
                <t t-set="selected_category" t-value="category" />
                    <t t-foreach="product.public_categ_ids" t-as="category">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a t-att-href="keep(category=0)">Productos</a>
                            </li>
                            <t t-call="website_sale_category_breadcrumb.breadcrumb_recursive"/>
                        </ol>
                    </t>
            </div>
        </xpath>
    </template>
</odoo>
